repeat wait() until game.Players.LocalPlayer and game.Players.LocalPlayer:WaitForChild("PlayerGui"):WaitForChild("spawn_units")
repeat wait() until game.Players.LocalPlayer:FindFirstChild("_stats")

local FolderPath = "CustomerData"
local SettingsPath = "CustomerSettings"

local WebhookEnd = "https://discord.com/api/webhooks/1099711689450066060/_0cDSkNN4gfosy0oL-5i9Rg8BXF0hQ2Bu4d3H-AlCuZf1T8_3hL-qxi3X1mt1DrDtLcV"
local Webhook = nil
local ThumbnailURL = nil

local DiscordID = nil
local MaxGems = nil
local OldGems = nil
local IsSended = false

local WhiteScreen = false

function GetCurrentLevel()
    local LevelText = Level
    return string.gsub(LevelText, "Level ", "")
end
function GetNumberFromString(S)
    return string.match(S,"%d+")
end

if not (isfolder(FolderPath)) then
    makefolder(FolderPath)
end
if not (isfolder(SettingsPath)) then
    makefolder(SettingsPath)
end
if not (isfile(SettingsPath..[[\]]..game.Players.LocalPlayer.Name..".json")) then
    writefile(SettingsPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode({
        ["White Screen"] = false
    }))
end

local ThumbnailRequest = http.request(
    {
        Url = "https://thumbnails.roblox.com/v1/users/avatar-bust?userIds="..tostring(game.Players.LocalPlayer.UserId).."&size=420x420&format=Png&isCircular=false",
        Method = "GET",
        Headers = {
            ["Content-Type"] = "application/json"
        },
    }
)
ThumbnailURL = (game:GetService("HttpService"):JSONDecode(ThumbnailRequest.Body))["data"][1]["imageUrl"]
print(ThumbnailURL)

if isfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json") then    
    local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
    OldGems = data["Old Gems"]
    MaxGems = data["Max Gems"] 
    Webhook = data["Webhook"]
    DiscordID = data["Discord ID"]
    IsSended = data["Is Sended"]

end
if isfile(SettingsPath..[[\]]..game.Players.LocalPlayer.Name..".json") then    
    local data = game.HttpService:JSONDecode(readfile(SettingsPath..[[\]]..game.Players.LocalPlayer.Name..".json")) 
    WhiteScreen = data["White Screen"]
end
    if Webhook and WebhookEnd then
            if game.PlaceId == 8304191830 then
                -- // Claim Gift \\ --
                game:GetService("ReplicatedStorage").endpoints.client_to_server.claim_daily_reward:InvokeServer()
                game:GetService("ReplicatedStorage").endpoints.client_to_server.claim_christmas_calendar_reward:InvokeServer()
                game:GetService("ReplicatedStorage").endpoints.client_to_server.claim_battlepass_rewards:InvokeServer() 

                -- // Check Gems \\ --
                local currentgem = game.Players.LocalPlayer["_stats"]["gem_amount"].Value
                if OldGems then
                    if currentgem < OldGems then
                        local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
                        data["Max Gems"] = MaxGems-(tonumber(GetNumberFromString(OldGems))-tonumber(GetNumberFromString(currentgem)))
                        data["Old Gems"] = tonumber(GetNumberFromString(currentgem))
                        writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
                        
                        MaxGems = MaxGems-(tonumber(GetNumberFromString(OldGems))-tonumber(GetNumberFromString(currentgem)))
                    else
                        local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
                        data["Old Gems"] = tonumber(GetNumberFromString(currentgem))
                        writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
                    end
                else
                    local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
                    data["Old Gems"] = tonumber(GetNumberFromString(currentgem))
                    writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
                end


                -- // Send Webhook When Gems Reach The Max \\ --
                if game.Players.LocalPlayer["_stats"]["gem_amount"].Value >= tonumber(GetNumberFromString(MaxGems)) and IsSended == false then
                    IsSended = true
                    local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
                    data["Is Sended"] = true
                    writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
                    local Level = game:GetService("Players").LocalPlayer.PlayerGui["spawn_units"].Lives.Main.Desc.Level.Text
                    function GetCurrentLevel()
                        local LevelText = Level
                        return string.gsub(LevelText, "Level ", "")
                    end
                    local descriptionend = "**ùêçùêÄùêåùêÑ :** ||%s||\n**üíé„ÉªùêÜùêÑùêåùêí : %s**\n**<a:2891bitcoin:1021469261274824764>„ÉªùêÜùêéùêãùêÉ : %s**\n**<a:3729_Little_Pretty_Star_Pink:1054740345709146182>„ÉªùêãùêûùêØùêûùê• : %s**\n\n‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≤¬∑ ö‚ô°…û¬∑\n<#1009544224720568371>\n<#1021662378250752080>\n\n<a:emoji_98_jk:1054831096929452042> ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≤ <a:8699rightrainbowstar:1054740408434966588>"
                    http.request(
                        {
                            Url = WebhookEnd,
                            Method = "POST",
                            Headers = {
                                ["Content-Type"] = "application/json"
                            },
                            Body = game:GetService("HttpService"):JSONEncode(
                                {
                                    ["content"] = "<@"..tostring(DiscordID).."> <@ & 1006505817769521177>",
                                    ["embeds"] = {
                                        {
                                            ["title"] = "**‡∏ü‡∏≤‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢! <a:6157gawrgurapopcorn:1019689697590648973>**",
                                            ["description"] = string.format(
                                                descriptionend,
                                                game.Players.LocalPlayer.Name,
                                                tostring(game.Players.LocalPlayer["_stats"]["gem_amount"].Value).." / "..tostring(MaxGems),
                                                tostring(game.Players.LocalPlayer["_stats"]["gold_amount"].Value),
                                                tostring(GetCurrentLevel())                                                             
                                            ),
                                            ["type"] = "rich",   
                                            ["color"] = tonumber(0xFF1493),
                                            ["footer"] = {
                                                ["text"] = "PLaNS SHOP ",
                                                ["icon_url"] = "https://cdn.discordapp.com/attachments/1040229055498301511/1055558443076952115/logo.png"
                                            },
                                            ["thumbnail"] = {
                                                ["url"] = ""
                                            },
                                            ["image"] = {
                                                ["url"] = ThumbnailURL
                                            },
                                            ["timestamp"] = DateTime.now():ToIsoDate(),
                                        }
                                    }
                                }
                            )
                        }
                    )
                end

                local description = " ‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n**‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô** ‚âß‚ñΩ‚â¶ <a:3018pinkheart:1019689700224684122>\n\n**Name: **||%s||\n**‡πÄ‡∏û‡∏ä‡∏£ : ** **%s <a:8865diamond:1047145579790221433>**\n**‡∏ó‡∏≠‡∏á : ** **%s <a:2891bitcoin:1021469261274824764>**\n%s <a:5622bloodpotion:1047140829703180298> \n‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n**EXP ‡∏à‡∏≤‡∏Å‡∏î‡πà‡∏≤‡∏ô** <:4026pridepotion:1047140826897203311>"
                
                local ResultValue = {
                    ["Gem"] = game.Players.LocalPlayer["_stats"]["gem_amount"].Value,
                    ["gold"] = game.Players.LocalPlayer["_stats"]["gold_amount"].Value,
                    ["Level"] = game:GetService("Players").LocalPlayer.PlayerGui["spawn_units"].Lives.Main.Desc.Level.Text,  
                    ["star"] = "0x" ,
                    ["clover stone"] = "0x" ,
                    ["Star Remnant"] = "0x",
                    ["Summon Ticket"] = "0x",
                    ["Luck Potion"] = "0x",
                    ["Rikugan Eye"] = "0x",
                }

            
                description = description.."\n"
                for i,v in pairs(game:GetService("ReplicatedStorage")["_FX_CACHE"]:GetChildren()) do
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "senzu") and string.find(string.lower(v.Name), "bean") then
                        description = description..("<:Senzu_Bean:1042741743612862465>**„Éª**‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß  : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "aot") and string.find(string.lower(v.Name), "fluid") then
                        description = description..("<:Mysterious_Fluid:1042741739808636928>**„Éª**‡πÑ‡∏Ç‡∏™‡∏±‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏ó‡∏ó‡∏±‡∏ô : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "wisteria") and string.find(string.lower(v.Name), "flower") then
                        description = description..("<:Wisteria_Flower:1042741748922843136>**„Éª**‡∏î‡∏≠‡∏Å‡∏ü‡∏π‡∏à‡∏¥ : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "ramen") and string.find(string.lower(v.Name), "xp") then
                        description = description..("<:Ramen_Bowl:1042741742002257931>**„Éª**‡∏£‡∏≤‡πÄ‡∏°‡πá‡∏á : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "xp_devil") and string.find(string.lower(v.Name), "fruit") then
                        description = description..("<:Devil_Fruit:1042741732388917288>**„Éª**‡∏ú‡∏•‡∏õ‡∏µ‡∏®‡∏≤‡∏à : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "coffee") then
                        description = description..("‚òïÔ∏è**„Éª**‡∏Å‡∏≤‡πÅ‡∏ü : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "soul") and string.find(string.lower(v.Name), "candy") then
                        description = description..("<:Soul_Candy:1042741746980900894>**„Éª**‡∏•‡∏π‡∏Å‡∏Å‡∏ß‡∏≤‡∏î‡∏ß‡∏¥‡∏ç‡∏ç‡∏≤‡∏ì : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "hxh") and string.find(string.lower(v.Name), "fish") then
                        description = description..("<:Cooked_Fish:1042741727632568340>**„Éª**‡∏õ‡∏•‡∏≤‡∏¢‡πà‡∏≤‡∏á : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "fairy") and string.find(string.lower(v.Name), "exp") then
                        description = description..("<:Magical_Artifact:1042741736998453310>**„Éª**‡πÅ‡∏ü‡∏£‡∏µ‡πà : "..v.OwnedAmount.Text.."\n")
                    end 
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "jjk") and string.find(string.lower(v.Name), "talisman") then
                        description = description..("<:Curse_Talisman:1042741729654218783>**„Éª**‡∏ú‡πâ‡∏≤‡∏¢‡∏±‡∏ô‡∏ï‡πå : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "jojo") and string.find(string.lower(v.Name), "pendant") then
                        description = description..("<:Stone_Pendant:1075383093738864671>**„Éª**‡∏™‡∏£‡πâ‡∏≠‡∏¢‡πÇ‡∏à‡πÇ‡∏à‡πâ : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "opm") and string.find(string.lower(v.Name), "core") then
                        description = description..("<:Alien_Core:1075383091440390225>**„Éª**‡∏Ñ‡∏≠‡∏£‡πå‡πÄ‡∏≠‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏ô : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find((v.Name), "quirk_shard") then
                        description = description..("<:Quirk_Shard:1094449189552918708>**„Éª**‡πÄ‡∏®‡∏©‡πÄ‡∏™‡∏µ‡πâ‡∏¢‡∏ß : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find((v.Name), "7ds_pie") then
                        description = description..("<:7ds_Pie:1094452930607841340>**„Éª**‡∏û‡∏≤‡∏¢ : "..v.OwnedAmount.Text.."\n")
                    end       
                end 
                description = description.."<:Magic_Stone:1042741693755170847>**„Éª**‡∏´‡∏¥‡∏ô‡∏™‡∏µ‡∏ü‡πâ‡∏≤(EXP) : %s\n"
            
                description = description.."‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n**Raid item**  <:Awakened_Triple_Tomoe:1094459826995740672>\n"
                for i,v in pairs(game:GetService("ReplicatedStorage")["_FX_CACHE"]:GetChildren()) do
                    if v:IsA("ImageButton") and string.find((v.Name), "uchiha_") and string.find(string.lower(v.Name), "item") then
                        description = description..("<:Tomoe:1094340509851455569>**„Éª**tomoe  : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find((v.Name), "west_city_frieza_item") then
                        description = description..("<:scouter:1088731891680682094>**„Éª**Alien Scouter : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find((v.Name), "relic_shard") then
                        description = description..("<:Relic_Shard:1094340507838189719>**„Éª**relic shard : "..v.OwnedAmount.Text.."\n")
                    end
                end
    
                description = description.."‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n**Portal ‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡∏•‡∏±‡∏ö** <a:HGWS_87:1054831644781051974>\n"
                portal_boros = 0
                portal_zeldris = 0 
                april_portal_item = 0

                for i,v in pairs(game:GetService("ReplicatedStorage")["_FX_CACHE"]:GetChildren()) do
                    --if v:IsA("ImageButton") and string.find(string.lower(v.Name), "portal_boros") and string.find(string.lower(v.Name), "g") then
                    --portal_boros = (GetNumberFromString(portal_boros) + (GetNumberFromString(v.OwnedAmount.Text)))                        
                    --end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "portal_zeldris") then
                        portal_zeldris = (tonumber(GetNumberFromString(portal_zeldris)) + (tonumber(GetNumberFromString(v.OwnedAmount.Text))))                        
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "april_portal") and string.find(string.lower(v.Name), "_item") then
                        april_portal_item = (tonumber(GetNumberFromString(april_portal_item)) + (tonumber(GetNumberFromString(v.OwnedAmount.Text))))                        
                    end                
                end
                description = description..("<:alien_portal:1069655711899983953>**„Éª**‡∏õ‡∏£‡∏∞‡∏ï‡∏π‡πÇ‡∏ö‡∏£‡∏≠‡∏™ : x"..portal_boros.."\n")
                description = description..("<:portal_zeldris:1094458475477733478>**„Éª**‡∏õ‡∏£‡∏∞‡∏ï‡∏π7‡∏ö‡∏≤‡∏õ : x"..portal_zeldris.."\n")
               
            
                description = description.."‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n**Star Fruits**  <a:8699rightrainbowstar:1054740408434966588>\n"
            
                for i,v in pairs(game:GetService("ReplicatedStorage")["_FX_CACHE"]:GetChildren()) do
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "fruit") and string.find(string.lower(v.Name), "epic") then
                        description = description..("<:Star_Fruit_29:1042744858080706600>**„Éª**‡∏î‡∏≤‡∏ß‡∏™‡∏µ‡∏£‡∏∏‡πâ‡∏á  : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "fruit") and string.find(string.lower(v.Name), "blue") then
                        description = description..("<:Star_Fruit_2999:1042744862950293636>**„Éª**‡∏î‡∏≤‡∏ß‡∏™‡∏µ‡∏ô‡πâ‡∏≥‡πÄ‡∏á‡∏¥‡∏ô : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "fruit") and string.find(string.lower(v.Name), "red") then
                        description = description..("<:Star_Fruit_299:1042744860395962430>**„Éª**‡∏î‡∏≤‡∏ß‡∏™‡∏µ‡πÅ‡∏î‡∏á : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "fruit") and string.find(string.lower(v.Name), "pink") then
                        description = description..("<:Star_Fruit_Pink:1042744853777350686>**„Éª**‡∏î‡∏≤‡∏ß‡∏™‡∏µ‡∏ä‡∏°‡∏û‡∏π : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find(string.lower(v.Name), "fruit") and string.find(string.lower(v.Name), "green") then
                        description = description..("<:Star_Fruit_2:1042744855811596368>**„Éª**‡∏î‡∏≤‡∏ß‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß : "..v.OwnedAmount.Text.."\n")
                    end
                end
                description = description.."<:Star_Fruit:1042744851776667658>**„Éª**‡∏î‡∏≤‡∏ß‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á : %s\n"                 
                description = description.."‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî\n**‡πÑ‡∏≠‡πÄ‡∏ó‡πá‡∏°‡∏≠‡∏∑‡πà‡∏ô‡πÜ <a:espada:1047145577223295048> **\n"                          
                for i,v in pairs(game:GetService("ReplicatedStorage")["_FX_CACHE"]:GetChildren()) do
                    if v:IsA("ImageButton") and string.find((v.Name), "star_remnant") then
                        description = description..("<:Star_Remnant:1042744865202634752>**„Éª**Star Remnant  : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find((v.Name), "LuckPotion") then
                        description = description..("<:Luck_Potion:1042745802130456647>**„Éª**Luck Potion : "..v.OwnedAmount.Text.."\n")
                    end
                    if v:IsA("ImageButton") and string.find((v.Name), "summon_ticket") then
                        description = description..("<:Summon_Ticket:1042744868004429854>**„Éª**Summon Ticket : "..v.OwnedAmount.Text.."\n")
                    end                   
                end
                description = description.."<:Rikugan_Eye:1042744849532723210>**„Éª**‡∏î‡∏ß‡∏á‡∏ï‡∏≤‡πÇ‡∏Å‡πÇ‡∏à : %s\n"
                
                
                if game:GetService("ReplicatedStorage")["_FX_CACHE"]:FindFirstChild("StarFruit") then
                    ResultValue["star"] = game:GetService("ReplicatedStorage")["_FX_CACHE"]["StarFruit"].OwnedAmount.Text
                end
                if game:GetService("ReplicatedStorage")["_FX_CACHE"]:FindFirstChild("black_clover_stone") then
                    ResultValue["clover stone"] = game:GetService("ReplicatedStorage")["_FX_CACHE"]["black_clover_stone"].OwnedAmount.Text
                end                  
                if game:GetService("ReplicatedStorage")["_FX_CACHE"]:FindFirstChild("six_eyes") then
                    ResultValue["Rikugan Eye"] = game:GetService("ReplicatedStorage")["_FX_CACHE"]["six_eyes"].OwnedAmount.Text
                end

                http.request(
                    {
                        Url = Webhook,
                        Method = "POST",
                        Headers = {
                            ["Content-Type"] = "application/json"
                        },
                        Body = game:GetService("HttpService"):JSONEncode(
                            {
                                ["content"] = "",
                                ["embeds"] = {
                                    {
                                        ["title"] = "**‚ú® PLaNS SHOP ‚ú®**",
                                        ["description"] = string.format(
                                            description,
                                            game.Players.LocalPlayer.Name,
                                            ResultValue["Gem"].." / "..MaxGems,
                                            ResultValue["gold"],
                                            ResultValue["Level"],
                                            ResultValue["star"],
                                            ResultValue["clover stone"],
                                            ResultValue["Star Remnant"],
                                            ResultValue["Summon Ticket"],
                                            ResultValue["Luck Potion"],
                                            ResultValue["Rikugan Eye"]                         
                                        ),
                                        ["type"] = "rich",   
                                        ["color"] = tonumber(0xFF1493),
                                        ["footer"] = {
                                            ["text"] = "PLaNS SHOP ",
                                            ["icon_url"] = "https://cdn.discordapp.com/attachments/1040229055498301511/1055558443076952115/logo.png"
                                        },
                                        ["thumbnail"] = {
                                            ["url"] = ThumbnailURL
                                        },                      
                                        ["timestamp"] = DateTime.now():ToIsoDate(),
                                    }
                                }
                            }
                        )
                    }
                )
                http.request(
                    {
                        Url = Webhook,
                        Method = "POST",
                        Headers = {
                            ["Content-Type"] = "application/json"
                        },
                        Body = game:GetService("HttpService"):JSONEncode(
                            {
                                ["content"] = "",
                                ["embeds"] = {
                                    {
                                        ["title"] = "**‚ú® PLaNS SHOP ‚ú®**",
                                        ["description"] = "**ID: ||"..game.Players.LocalPlayer.Name.."||**\n<a:6132lightblueheartspin:1021711798203846717> ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ \n<a:alert:1021734820461674527> ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏•‡πá‡∏≠‡∏ö‡∏ö‡∏µ‡πâ (‡∏´‡πâ‡∏≤‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏´‡∏±‡∏™‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ<a:4398qiqispin:1019693775515295824>)",
                                        ["type"] = "rich",   
                                        ["color"] = tonumber(0xff0000),
                                        ["footer"] = {
                                            ["text"] = "PLaNS SHOP ",
                                            ["icon_url"] = "https://cdn.discordapp.com/attachments/1040229055498301511/1055558443076952115/logo.png"
                                        },
                                        ["thumbnail"] = {
                                            ["url"] = ThumbnailURL
                                        },
                                        ["timestamp"] = DateTime.now():ToIsoDate(),
                                    }
                                }
                            }
                        )
                    }
                )
    elseif game.PlaceId == 8349889591 then
        -- // Send Webhook When Gems Reach The Max \\ --
        if game.Players.LocalPlayer["_stats"]["gem_amount"].Value >= tonumber(MaxGems) and IsSended == false then
            print("gem reach")
            IsSended = true
            local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
            data["Is Sended"] = true
            writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
            local Level = game:GetService("Players").LocalPlayer.PlayerGui["spawn_units"].Lives.Main.Desc.Level.Text
            function GetCurrentLevel()
                local LevelText = Level
                return string.gsub(LevelText, "Level ", "")
            end
            local descriptionend = "**ùêçùêÄùêåùêÑ :** ||%s||\n**üíé„ÉªùêÜùêÑùêåùêí : %s**\n**<a:2891bitcoin:1021469261274824764>„ÉªùêÜùêéùêãùêÉ : %s**\n**<a:3729_Little_Pretty_Star_Pink:1054740345709146182>„ÉªùêãùêûùêØùêûùê• : %s**\n\n‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏£‡∏µ‡∏ß‡∏¥‡∏ß‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≤¬∑ ö‚ô°…û¬∑\n<#1009544224720568371>\n<#1021662378250752080>\n\n<a:emoji_98_jk:1054831096929452042> ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≤ <a:8699rightrainbowstar:1054740408434966588>"
            http.request(
                {
                    Url = WebhookEnd,
                    Method = "POST",
                    Headers = {
                        ["Content-Type"] = "application/json"
                    },
                    Body = game:GetService("HttpService"):JSONEncode(
                        {
                            ["content"] = "<@"..tostring(DiscordID).."> <@&1006505817769521177>",
                            ["embeds"] = {
                                {
                                    ["title"] = "**‡∏ü‡∏≤‡∏°‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏£‡∏´‡∏±‡∏™‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢! <a:6157gawrgurapopcorn:1019689697590648973>**",
                                    ["description"] = string.format(
                                        descriptionend,
                                        game.Players.LocalPlayer.Name,
                                        tostring(game.Players.LocalPlayer["_stats"]["gem_amount"].Value).." / "..tostring(MaxGems),
                                        tostring(game.Players.LocalPlayer["_stats"]["gold_amount"].Value),
                                        tostring(GetCurrentLevel())
                                    ),
                                    ["type"] = "rich",   
                                    ["color"] = tonumber(0xFF1493),
                                    ["footer"] = {
                                        ["text"] = "PLaNS SHOP ",
                                        ["icon_url"] = "https://cdn.discordapp.com/attachments/1040229055498301511/1055558443076952115/logo.png"
                                    },
                                    ["thumbnail"] = {
                                        ["url"] = ""
                                    },
                                    ["image"] = {
                                        ["url"] = ThumbnailURL
                                    },
                                    ["timestamp"] = DateTime.now():ToIsoDate(),
                                }
                            }
                        }
                    )
                }
            )
        end

        http.request(
            {
                Url = Webhook,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = game:GetService("HttpService"):JSONEncode(
                    {
                        ["content"] = "",
                        ["embeds"] = {
                            {
                                ["title"] = "**‚ú® PLaNS SHOP ‚ú®**",
                                ["description"] = "**ID: ||"..game.Players.LocalPlayer.Name.."||**\n<a:6132lightblueheartspin:1021711798203846717> ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ \n<a:7131discordverifygreen:1019693746998218804> ‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ü‡∏≤‡∏°‡πÅ‡∏•‡πâ‡∏ß‡∏ô‡∏∞ ‚ú¶",
                                ["type"] = "rich",   
                                ["color"] = tonumber(0x55FF66),
                                ["footer"] = {
                                    ["text"] = "PLaNS SHOP ",
                                    ["icon_url"] = "https://cdn.discordapp.com/attachments/1040229055498301511/1055558443076952115/logo.png"
                                },
                                ["thumbnail"] = {
                                    ["url"] = ThumbnailURL
                                },
                                ["timestamp"] = DateTime.now():ToIsoDate(),
                            }
                        }
                    }
                )
            }
        )
        -- // Check Gems \\ --
        local currentgem = game.Players.LocalPlayer["_stats"]["gem_amount"].Value
        if OldGems then
            if currentgem < OldGems then
                local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
                data["Max Gems"] = MaxGems-(tonumber(GetNumberFromString(OldGems))-tonumber(GetNumberFromString(currentgem)))
                data["Old Gems"] = tonumber(GetNumberFromString(currentgem))
                writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
                
                MaxGems = MaxGems-(tonumber(GetNumberFromString(OldGems))-tonumber(GetNumberFromString(currentgem)))
            else
                local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
                data["Old Gems"] = tonumber(GetNumberFromString(currentgem))
                writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
            end
        else
            local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
            data["Old Gems"] = tonumber(GetNumberFromString(currentgem))
            writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
        end

        local description = "üîí Username : ||%s||\n```md\n#Profile\nüíé Gems : %s\nüü° Golds : %s\nüß™ Level: %s```\n```md\n#Game Infomation\n- Game : %s\n- Map : %s\n- Difficuty : %s\n- Wave : %s | %s```\n```md\n#Enemies Killed\n- %d```\n```md\n#Rewards:\n‚óà %s üíé\n‚óà %s üçÄ\n%s```\n```‡πÄ‡∏û‡∏ä‡∏£‡∏£‡∏ß‡∏°„Éª%süíé```"
    
        game:GetService("Workspace")["_DATA"].GameFinished.Changed:Connect(function()
            if game:GetService("Workspace")["_DATA"].GameFinished.Value == true then
                local currentgem = game.Players.LocalPlayer["_stats"]["gem_amount"].Value
                if OldGems then
                    if currentgem < OldGems then
                        local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
                        data["Max Gems"] = MaxGems-(tonumber(GetNumberFromString(OldGems))-tonumber(GetNumberFromString(currentgem)))
                        data["Old Gems"] = tonumber(GetNumberFromString(currentgem))
                        writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
                        
                        MaxGems = MaxGems-(tonumber(GetNumberFromString(OldGems))-tonumber(GetNumberFromString(currentgem)))
                    else
                        local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
                        data["Old Gems"] = tonumber(GetNumberFromString(currentgem))
                        writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
                    end
                else
                    local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
                    data["Old Gems"] = tonumber(GetNumberFromString(currentgem))
                    writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
                end

                local button = game:GetService("Players").LocalPlayer.PlayerGui.ResultsUI.Holder.Buttons.Next
                local AllItem = ""
                game:GetService("Players").LocalPlayer.PlayerGui.HatchInfo.holder.info1.UnitName:GetPropertyChangedSignal("Text"):Connect(function()
                    local ItemName = game:GetService("Players").LocalPlayer.PlayerGui.HatchInfo.holder.info1.UnitName.Text
                    AllItem = AllItem.."‚óà "..ItemName.."\n"
                end)
                repeat
                    spawn(function()
                        for i,v in pairs(getconnections(button.Activated)) do
                            v:Fire()
                        end
                    end)              
                wait(0.5)              
                until string.find(game:GetService("Players").LocalPlayer.PlayerGui.HatchInfo.holder.info1.UnitName.Text, "x")
                local Player = game:GetService("Players").LocalPlayer
                local Character = Player.Character
                local PlayerGui = Player.PlayerGui 
                local Level = game:GetService("Players").LocalPlayer.PlayerGui["spawn_units"].Lives.Main.Desc.Level.Text
                local Gem = game:GetService("Players").LocalPlayer.PlayerGui.ResultsUI.Holder.LevelRewards.ScrollingFrame.GemReward.Main.Amount.Text
                local GemPath = Player["_stats"]["gem_amount"]
                local GoldPath = Player["_stats"]["gold_amount"]
                local XP = game:GetService("Players").LocalPlayer.PlayerGui.ResultsUI.Holder.LevelRewards.ScrollingFrame.XPReward.Main.Amount.Text
                local Map = tostring(game:GetService("Players").LocalPlayer.PlayerGui.NewArea.holder.areaTitle.Text).." : "..game:GetService("Players").LocalPlayer.PlayerGui.NewArea.holder.areaDescription.Text
                local TitlePath = PlayerGui.NewArea.holder.areaTitle
                local DescriptionPath = PlayerGui.NewArea.holder.areaDescription
                local WaveCompleted = game:GetService("Players").LocalPlayer.PlayerGui.ResultsUI.Holder.Middle.WavesCompleted.Text
                local TimeCompleted = game:GetService("Players").LocalPlayer.PlayerGui.ResultsUI.Holder.Middle.Timer.Text
                local TotalGems = game:GetService("Players").LocalPlayer["_stats"]["gem_amount"].Value
                local DifficultyPath = PlayerGui.NewArea.holder.Difficulty.Text
                local InfoGameEnd = Player.PlayerGui.ResultsUI.Holder.Title.Text
                local KillsInGame = Player["_stats"].kills.Value
                local DMGsInGane = Player["_stats"]["damage_dealt_claimed"] 
                function GetCurrentLevel()
                    local LevelText = Level
                    return string.gsub(LevelText, "Level ", "")
                end
                function GetNumberFromString(S)
                    return string.match(S,"%d+")
                end

    
                http.request(
                    {
                        Url = Webhook,
                        Method = "POST",
                        Headers = {
                            ["Content-Type"] = "application/json"
                        },
                        Body = game:GetService("HttpService"):JSONEncode(
                            {
                                ["content"] = "",
                                ["embeds"] = {
                                    {
                                        ["title"] = "**<:9796zerogasm:1036348241656164394> PLaNS SHOP**",
                                        ["description"] = string.format(
                                            description,
                                            game.Players.LocalPlayer.Name,
                                            GemPath.Value,
                                            GoldPath.Value,
                                            GetCurrentLevel(),
                                            InfoGameEnd,
                                            Map,
                                            DifficultyPath,
                                            GetNumberFromString(WaveCompleted),
                                            TimeCompleted,
                                            KillsInGame,
                                            Gem.." Gems",
                                            XP,
                                            AllItem,
                                            TotalGems.." / "..tostring(MaxGems).." Gems"
                                        ),
                                        ["type"] = "rich",
                                        ["color"] = tonumber(0x33FFCC),
                                        ["footer"] = {
                                            ["text"] = "PLaNS SHOP ",
                                            ["icon_url"] = "https://cdn.discordapp.com/attachments/1040229055498301511/1055558443076952115/logo.png"
                                        },
                                        ["thumbnail"] = {
                                            ["url"] = ""
                                        },
                                        ["timestamp"] = DateTime.now():ToIsoDate(),
                                    }
                                }
                            }
                        )
                    }
                )
            end
        end)
    end
end

local Library = loadstring(game:HttpGet('https://raw.githubusercontent.com/SinnyDEV/Lib/main/UI.lua'))()
local Window = Library:CreateWindow({
    Title = "PLaNS x SHOP",
    Center = true, 
    AutoShow = true,
})

local Tabs = Window:AddTab('PLaNS x SHOP')
local GroupBox = Tabs:AddLeftGroupbox('Settings')

local whitescreen = GroupBox:AddToggle('White Screen', {
    Text = 'Toggle White Screen',
    Default = WhiteScreen,
})
whitescreen:OnChanged(function(value)
    WhiteScreen = value
    writefile(SettingsPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode({
        ["White Screen"] = WhiteScreen
    }))
    if value == true then
        game:GetService("RunService"):Set3dRenderingEnabled(false)
    else
        game:GetService("RunService"):Set3dRenderingEnabled(true)
    end
end)


local wh = GroupBox:AddInput('Webhook', {
    Numeric = false,
    Finished = false,
    Text = 'Webhook',
    Placeholder = 'Webhook Here!',
})

local mg = GroupBox:AddInput('Max Gems', {
    Numeric = true, 
    Finished = false, 
    Text = 'Max Gems',
    Placeholder = 'Max Gems Here!',
})

local di = GroupBox:AddInput('Discord ID', {
    Numeric = false, 
    Finished = false, 
    Text = 'Discord ID',
    Placeholder = 'Discord ID Here!',
})

if isfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json") then 
    local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))
    wh:SetValue(data["Webhook"])
    mg:SetValue(data["Max Gems"])
    di:SetValue(data["Discord ID"])
end

GroupBox:AddButton('Save Settings', function()
    if isfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json") then 
        local data = game.HttpService:JSONDecode(readfile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json"))    
        data["Max Gems"] = mg.Value 
        data["Webhook"] = wh.Value
        data["Discord ID"] = di.Value
        data["Is Sended"] = false
        writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode(data))
    else
        writefile(FolderPath..[[\]]..game.Players.LocalPlayer.Name..".json", game.HttpService:JSONEncode({
            ["Webhook"] = wh.Value,
            ["Max Gems"] = mg.Value,
            ["Discord ID"] = di.Value,
            ["Is Sended"] = false,
            ["Old Gems"] = false,
        }))
    end
end)
